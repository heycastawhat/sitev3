<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Site v3</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="Favicon.png">
    <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Br Vr ci Wr Jr zr qr capture Ni calculateEventProperties Xr register register_once register_for_session unregister unregister_for_session es getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Zr Yr createPersonProfile ts Nr rs opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Kr debug O Qr getPageViewId captureTraceFeedback captureTraceMetric Dr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_etwCCcnzso1YZCxbWizV6qsVeMs2aoFRmoqz1F5eXgh', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
    })
</script>
</head>

<body>
  <nav class="navbar">
    <h1>Music is also pretty cool</h1>
  </nav>


  <div class="content">
    <h3>Here's some I'm into right now, wrapped in a cool playlisty thingy</h3>
    
    <div class="music-player">
      <div class="now-playing">
        <div class="album-art">
          <img id="album-cover" src="images/album-art/Drag Path.jpg" alt="Album Cover">
        </div>
        <div class="track-info">
          <h2 id="track-title">Select a track</h2>
        </div>
      </div>

      <div class="player-controls">
        <input type="range" id="progress-bar" class="progress-bar" min="0" max="100" value="0">
        <div class="time-info">
          <span id="current-time">0:00</span>
          <span id="duration">0:00</span>
        </div>
      </div>

      <div class="button-controls">
        <button id="prev-btn" class="control-btn">⏮ Prev</button>
        <button id="play-btn" class="control-btn play-btn">▶ Play</button>
        <button id="next-btn" class="control-btn">Next ⏭</button>
      </div>
    </div>

    <div class="playlist">
      <h3>"Playlist"</h3>
      <div class="tracks-list">
        <div class="track-item" data-src="media/music/Drag Path.mp3" data-title="Drag Path">
          <div class="track-number">1</div>
          <div class="track-title">Drag Path</div>
          <div class="track-duration">--:--</div>
        </div>
        <div class="track-item" data-src="media/music/Drum Show.mp3" data-title="Drum Show">
          <div class="track-number">2</div>
          <div class="track-title">Drum Show</div>
          <div class="track-duration">--:--</div>
        </div>
        <div class="track-item" data-src="media/music/Lavish.mp3" data-title="Lavish">
          <div class="track-number">3</div>
          <div class="track-title">Lavish</div>
          <div class="track-duration">--:--</div>
        </div>
        <div class="track-item" data-src="media/music/Leave the City.mp3" data-title="Leave the City">
          <div class="track-number">4</div>
          <div class="track-title">Leave the City</div>
          <div class="track-duration">--:--</div>
        </div>
        <div class="track-item" data-src="media/music/Level of Concern.mp3" data-title="Level of Concern">
          <div class="track-number">5</div>
          <div class="track-title">Level of Concern</div>
          <div class="track-duration">--:--</div>
        </div>
        <div class="track-item" data-src="media/music/The Hype.mp3" data-title="The Hype">
          <div class="track-number">6</div>
          <div class="track-title">The Hype</div>
          <div class="track-duration">--:--</div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <audio id="audio-player"></audio>
    <script>
      const audio = document.getElementById('audio-player');
      const playBtn = document.getElementById('play-btn');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const progressBar = document.getElementById('progress-bar');
      const currentTimeEl = document.getElementById('current-time');
      const durationEl = document.getElementById('duration');
      const trackTitle = document.getElementById('track-title');
      const albumCover = document.getElementById('album-cover');
      const trackItems = document.querySelectorAll('.track-item');
      let currentTrackIndex = 0;

      function formatTime(seconds) {
        if (!seconds || isNaN(seconds)) return '0:00';
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }

      function loadTrack(index) {
        currentTrackIndex = index;
        const track = trackItems[index];
        audio.src = track.dataset.src;
        trackTitle.textContent = track.dataset.title;
        
        // Update album art
        const trackName = track.dataset.title;
        albumCover.src = `images/album-art/${trackName}.jpg`;
        albumCover.onerror = () => {
          albumCover.src = 'images/album-art/Drag Path.jpg';
        };
        
        trackItems.forEach(t => t.classList.remove('active'));
        track.classList.add('active');
      }

      function togglePlay() {
        if (audio.src === '') {
          loadTrack(0);
        }
        if (audio.paused) {
          audio.play();
          playBtn.textContent = '⏸ Pause';
        } else {
          audio.pause();
          playBtn.textContent = '▶ Play';
        }
      }

      function nextTrack() {
        loadTrack((currentTrackIndex + 1) % trackItems.length);
        audio.play();
        playBtn.textContent = '⏸ Pause';
      }

      function prevTrack() {
        loadTrack((currentTrackIndex - 1 + trackItems.length) % trackItems.length);
        audio.play();
        playBtn.textContent = '⏸ Pause';
      }

      playBtn.addEventListener('click', togglePlay);
      nextBtn.addEventListener('click', nextTrack);
      prevBtn.addEventListener('click', prevTrack);

      audio.addEventListener('timeupdate', () => {
        progressBar.value = (audio.currentTime / audio.duration) * 100 || 0;
        currentTimeEl.textContent = formatTime(audio.currentTime);
      });

      audio.addEventListener('loadedmetadata', () => {
        durationEl.textContent = formatTime(audio.duration);
      });

      audio.addEventListener('ended', nextTrack);

      progressBar.addEventListener('change', () => {
        audio.currentTime = (progressBar.value / 100) * audio.duration;
      });

      trackItems.forEach((item, index) => {
        item.addEventListener('click', () => {
          loadTrack(index);
          audio.play();
          playBtn.textContent = '⏸ Pause';
        });
      });
    </script>
    <p>Don't sue me pls</p>
    <a href="index.html" class="back-button">← Back</a>
    <script src="script/tracking.js"></script>
    <script src="script/wisdom.js"></script>
  </footer>
</body>